{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:////mnt/d/w/vendor/loaders.gl/node_modules/@babel/runtime/helpers/classCallCheck.js","webpack:////mnt/d/w/vendor/loaders.gl/node_modules/@babel/runtime/helpers/inherits.js","webpack:////mnt/d/w/vendor/loaders.gl/node_modules/@babel/runtime/helpers/defineProperty.js","webpack:////mnt/d/w/vendor/loaders.gl/node_modules/@babel/runtime/helpers/createClass.js","webpack:////mnt/d/w/vendor/loaders.gl/node_modules/@babel/runtime/helpers/assertThisInitialized.js","webpack:////mnt/d/w/vendor/loaders.gl/node_modules/@babel/runtime/regenerator/index.js","webpack:////mnt/d/w/vendor/loaders.gl/node_modules/@babel/runtime/helpers/asyncToGenerator.js","webpack:////mnt/d/w/vendor/loaders.gl/node_modules/@babel/runtime/helpers/typeof.js","webpack:////mnt/d/w/vendor/loaders.gl/node_modules/@babel/runtime/helpers/toConsumableArray.js","webpack:////mnt/d/w/vendor/loaders.gl/node_modules/@babel/runtime/helpers/getPrototypeOf.js","webpack:////mnt/d/w/vendor/loaders.gl/node_modules/@babel/runtime/helpers/arrayLikeToArray.js","webpack:////mnt/d/w/vendor/loaders.gl/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","webpack:////mnt/d/w/vendor/loaders.gl/node_modules/regenerator-runtime/runtime.js","webpack:////mnt/d/w/vendor/loaders.gl/node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","webpack:////mnt/d/w/vendor/loaders.gl/node_modules/@babel/runtime/helpers/iterableToArray.js","webpack:////mnt/d/w/vendor/loaders.gl/node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js","webpack:////mnt/d/w/vendor/loaders.gl/node_modules/@babel/runtime/helpers/nonIterableSpread.js","webpack:////mnt/d/w/vendor/loaders.gl/node_modules/@babel/runtime/helpers/setPrototypeOf.js","webpack:///../worker-utils/src/lib/worker-utils/get-transfer-list.ts","webpack:///../worker-utils/src/lib/worker-farm/worker-body.ts","webpack:///../loader-utils/src/lib/worker-loader-utils/create-loader-worker.ts","webpack:///../schema/src/category/mesh/mesh-utils.ts","webpack:///./src/lib/parse-obj.ts","webpack:///../schema/src/lib/schema/impl/schema.ts","webpack:///../schema/src/lib/utils/assert.ts","webpack:///../schema/src/lib/schema/impl/enum.ts","webpack:///../schema/src/lib/schema/impl/type.ts","webpack:///../schema/src/lib/schema/impl/field.ts","webpack:///./src/lib/get-obj-schema.ts","webpack:///../schema/src/lib/arrow/arrow-type-utils.ts","webpack:///./src/lib/load-obj.ts","webpack:///./src/obj-loader.ts","webpack:///./src/index.ts","webpack:///./src/workers/obj-worker.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","instance","Constructor","TypeError","setPrototypeOf","subClass","superClass","constructor","writable","configurable","obj","_defineProperties","target","props","length","descriptor","protoProps","staticProps","self","ReferenceError","asyncGeneratorStep","gen","resolve","reject","_next","_throw","arg","info","error","done","Promise","then","fn","this","args","arguments","apply","err","undefined","_typeof","iterator","arrayWithoutHoles","iterableToArray","unsupportedIterableToArray","nonIterableSpread","arr","_getPrototypeOf","getPrototypeOf","__proto__","len","arr2","Array","assertThisInitialized","runtime","Op","hasOwn","$Symbol","iteratorSymbol","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","define","wrap","innerFn","outerFn","tryLocsList","protoGenerator","Generator","generator","context","Context","_invoke","state","method","Error","doneResult","delegate","delegateResult","maybeInvokeDelegate","ContinueSentinel","sent","_sent","dispatchException","abrupt","record","tryCatch","type","makeInvokeMethod","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","NativeIteratorPrototype","values","Gp","defineIteratorMethods","forEach","AsyncIterator","PromiseImpl","previousPromise","callInvokeWithMethodAndArg","invoke","result","__await","unwrapped","resultName","next","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","push","resetTryEntry","completion","reset","iterable","iteratorMethod","isNaN","displayName","isGeneratorFunction","genFun","ctor","mark","awrap","async","iter","toString","keys","reverse","pop","skipTempReset","prev","charAt","slice","stop","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","thrown","delegateYield","regeneratorRuntime","accidentalStrictMode","Function","arrayLikeToArray","isArray","from","minLen","test","_setPrototypeOf","isTransferable","ArrayBuffer","MessagePort","ImageBitmap","OffscreenCanvas","onMessageWrapperMap","Map","WorkerBody","onMessage","onmessage","message","isKnownMessage","data","payload","onMessageWrapper","addEventListener","removeEventListener","source","transferList","getTransferList","recursive","transfers","transfersSet","Set","add","buffer","isView","postMessage","startsWith","requestId","parseOnMainThread","arrayBuffer","options","id","input","parseData","a","loader","parseSync","parse","parser","parseTextSync","textDecoder","TextDecoder","decode","worker","getMeshBoundingBox","attributes","minX","Infinity","minY","minZ","maxX","maxY","maxZ","positions","POSITION","x","y","z","OBJECT_RE","MATERIAL_RE","MATERIAL_USE_RE","MeshMaterial","index","mtllib","smooth","groupStart","groupEnd","groupCount","inherited","MeshObject","geometry","vertices","normals","colors","uvs","materials","fromDeclaration","libraries","previous","_finalize","splice","material","end","lastMultiMaterial","currentMaterial","mi","ParserState","objects","materialLibraries","startObject","previousMaterial","clone","declared","parseInt","b","src","dst","ua","ub","uc","na","nb","nc","vLen","ia","parseVertexIndex","ib","ic","addVertex","uvLen","parseUVIndex","addUV","nLen","parseNormalIndex","addNormal","addColor","vertex","addVertexPoint","addVertexLine","uv","addUVLine","Schema","fields","metadata","condition","assert","usedNames","field","console","warn","checkNames","other","compareTo","nameMap","columnNames","selectedFields","filter","columnIndices","map","Boolean","schemaOrFields","otherSchema","mergeMaps","fieldMap","m1","m2","Type","DataType","NONE","typeId","Null","Int","Float","Binary","Utf8","Bool","Decimal","Date","Time","Timestamp","Interval","List","Struct","Union","FixedSizeBinary","FixedSizeList","Dictionary","isSigned","bitWidth","Int8","Int16","Int32","Uint8","Uint16","Uint32","Precision","precision","Float32","Float64","listSize","child","children","valueType","Field","nullable","getArrowFieldFromAttribute","attributeName","attribute","metadataMap","set","JSON","stringify","array","Int8Array","Uint8Array","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","getArrowTypeFromTypedArray","isSingleValue","size","loadOBJ","text","meshes","indexOf","replace","lines","split","line","lineFirstChar","trimLeft","trim","parseFloat","vertexData","substr","faceVertices","j","jl","vertexParts","v1","v2","v3","addFace","lineParts","substring","lineVertices","lineUVs","li","llen","parts","addLineGeometry","pointData","addPointGeometry","exec","startMaterial","toLowerCase","finalize","mesh","header","vertexCount","NORMAL","COLOR_0","TEXCOORD_0","sourceMaterial","_material","flatShading","parseOBJ","reduce","mergeAttributes","boundingBox","loaderData","schema","getOBJSchema","OBJLoader","version","extensions","mimeTypes","testText","OBJWorkerLoader"],"mappings":"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","file":"obj-worker.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 19);\n","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var setPrototypeOf = require(\"./setPrototypeOf.js\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","module.exports = require(\"regenerator-runtime\");\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n\nmodule.exports = _asyncToGenerator;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n\n    module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n\n    module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var arrayWithoutHoles = require(\"./arrayWithoutHoles.js\");\n\nvar iterableToArray = require(\"./iterableToArray.js\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray.js\");\n\nvar nonIterableSpread = require(\"./nonIterableSpread.js\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nmodule.exports = _arrayLikeToArray;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var _typeof = require(\"@babel/runtime/helpers/typeof\")[\"default\"];\n\nvar assertThisInitialized = require(\"./assertThisInitialized.js\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n    return obj[key];\n  }\n  try {\n    // IE 8 has a broken Object.defineProperty that only works on DOM objects.\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunction.displayName = define(\n    GeneratorFunctionPrototype,\n    toStringTagSymbol,\n    \"GeneratorFunction\"\n  );\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      define(genFun, toStringTagSymbol, \"GeneratorFunction\");\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  define(Gp, toStringTagSymbol, \"Generator\");\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n}\n","var arrayLikeToArray = require(\"./arrayLikeToArray.js\");\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}\n\nmodule.exports = _arrayWithoutHoles;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var arrayLikeToArray = require(\"./arrayLikeToArray.js\");\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}\n\nmodule.exports = _unsupportedIterableToArray;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableSpread;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","// NOTE - there is a copy of this function is both in core and loader-utils\r\n// core does not need all the utils in loader-utils, just this one.\r\n\r\n/**\r\n * Returns an array of Transferrable objects that can be used with postMessage\r\n * https://developer.mozilla.org/en-US/docs/Web/API/Worker/postMessage\r\n * @param object data to be sent via postMessage\r\n * @param recursive - not for application use\r\n * @param transfers - not for application use\r\n * @returns a transfer list that can be passed to postMessage\r\n */\r\nexport function getTransferList(\r\n  object: any,\r\n  recursive: boolean = true,\r\n  transfers?: Set<any>\r\n): Transferable[] {\r\n  // Make sure that items in the transfer list is unique\r\n  const transfersSet = transfers || new Set();\r\n\r\n  if (!object) {\r\n    // ignore\r\n  } else if (isTransferable(object)) {\r\n    transfersSet.add(object);\r\n  } else if (isTransferable(object.buffer)) {\r\n    // Typed array\r\n    transfersSet.add(object.buffer);\r\n  } else if (ArrayBuffer.isView(object)) {\r\n    // object is a TypeArray viewing into a SharedArrayBuffer (not transferable)\r\n    // Do not iterate through the content in this case\r\n  } else if (recursive && typeof object === 'object') {\r\n    for (const key in object) {\r\n      // Avoid perf hit - only go one level deep\r\n      getTransferList(object[key], recursive, transfersSet);\r\n    }\r\n  }\r\n\r\n  // If transfers is defined, is internal recursive call\r\n  // Otherwise it's called by the user\r\n  return transfers === undefined ? Array.from(transfersSet) : [];\r\n}\r\n\r\n// https://developer.mozilla.org/en-US/docs/Web/API/Transferable\r\nfunction isTransferable(object) {\r\n  if (!object) {\r\n    return false;\r\n  }\r\n  if (object instanceof ArrayBuffer) {\r\n    return true;\r\n  }\r\n  if (typeof MessagePort !== 'undefined' && object instanceof MessagePort) {\r\n    return true;\r\n  }\r\n  if (typeof ImageBitmap !== 'undefined' && object instanceof ImageBitmap) {\r\n    return true;\r\n  }\r\n  if (typeof OffscreenCanvas !== 'undefined' && object instanceof OffscreenCanvas) {\r\n    return true;\r\n  }\r\n  return false;\r\n}\r\n","import type {WorkerMessageData, WorkerMessageType, WorkerMessagePayload} from '../../types';\r\nimport {getTransferList} from '../worker-utils/get-transfer-list';\r\n\r\nconst onMessageWrapperMap = new Map();\r\n\r\n/**\r\n * Type safe wrapper for worker code\r\n */\r\nexport default class WorkerBody {\r\n  /*\r\n   * (type: WorkerMessageType, payload: WorkerMessagePayload) => any\r\n   */\r\n  static set onmessage(onMessage: (type: WorkerMessageType, payload: WorkerMessagePayload) => any) {\r\n    // eslint-disable-next-line no-restricted-globals\r\n    self.onmessage = (message) => {\r\n      if (!isKnownMessage(message)) {\r\n        return;\r\n      }\r\n\r\n      // Confusingly the message itself also has a 'type' field which is always set to 'message'\r\n      const {type, payload} = message.data;\r\n      onMessage(type, payload);\r\n    };\r\n  }\r\n\r\n  static addEventListener(\r\n    onMessage: (type: WorkerMessageType, payload: WorkerMessagePayload) => any\r\n  ) {\r\n    let onMessageWrapper = onMessageWrapperMap.get(onMessage);\r\n\r\n    if (!onMessageWrapper) {\r\n      onMessageWrapper = (message) => {\r\n        if (!isKnownMessage(message)) {\r\n          return;\r\n        }\r\n\r\n        // Confusingly the message itself also has a 'type' field which is always set to 'message'\r\n        const {type, payload} = message.data;\r\n        onMessage(type, payload);\r\n      };\r\n    }\r\n\r\n    // eslint-disable-next-line no-restricted-globals\r\n    self.addEventListener('message', onMessageWrapper);\r\n  }\r\n\r\n  static removeEventListener(\r\n    onMessage: (type: WorkerMessageType, payload: WorkerMessagePayload) => any\r\n  ) {\r\n    const onMessageWrapper = onMessageWrapperMap.get(onMessage);\r\n    onMessageWrapperMap.delete(onMessage);\r\n    // eslint-disable-next-line no-restricted-globals\r\n    self.removeEventListener('message', onMessageWrapper);\r\n  }\r\n\r\n  /**\r\n   * Send a message from a worker to creating thread (main thread)\r\n   * @param type\r\n   * @param payload\r\n   */\r\n  static postMessage(type: WorkerMessageType, payload: WorkerMessagePayload): void {\r\n    if (self) {\r\n      const data: WorkerMessageData = {source: 'loaders.gl', type, payload};\r\n      const transferList = getTransferList(payload);\r\n      // eslint-disable-next-line no-restricted-globals\r\n      // @ts-ignore\r\n      self.postMessage(data, transferList);\r\n    }\r\n  }\r\n}\r\n\r\n// Filter out noise messages sent to workers\r\nfunction isKnownMessage(message) {\r\n  const {type, data} = message;\r\n  return (\r\n    type === 'message' &&\r\n    data &&\r\n    typeof data.source === 'string' &&\r\n    data.source.startsWith('loaders.gl')\r\n  );\r\n}\r\n","/* eslint-disable no-restricted-globals */\r\nimport type {LoaderWithParser} from '../../types';\r\nimport {WorkerBody} from '@loaders.gl/worker-utils';\r\n// import {validateLoaderVersion} from './validate-loader-version';\r\n\r\nlet requestId = 0;\r\n\r\n/**\r\n * Set up a WebWorkerGlobalScope to talk with the main thread\r\n * @param loader\r\n */\r\nexport function createLoaderWorker(loader: LoaderWithParser) {\r\n  // Check that we are actually in a worker thread\r\n  if (typeof self === 'undefined') {\r\n    return;\r\n  }\r\n\r\n  WorkerBody.onmessage = async (type, payload) => {\r\n    switch (type) {\r\n      case 'process':\r\n        try {\r\n          // validateLoaderVersion(loader, data.source.split('@')[1]);\r\n\r\n          const {input, options = {}} = payload;\r\n\r\n          const result = await parseData({\r\n            loader,\r\n            arrayBuffer: input,\r\n            options,\r\n            context: {\r\n              parse: parseOnMainThread\r\n            }\r\n          });\r\n          WorkerBody.postMessage('done', {result});\r\n        } catch (error) {\r\n          const message = error instanceof Error ? error.message : '';\r\n          WorkerBody.postMessage('error', {error: message});\r\n        }\r\n        break;\r\n      default:\r\n    }\r\n  };\r\n}\r\n\r\nfunction parseOnMainThread(arrayBuffer: ArrayBuffer, options: {[key: string]: any}): Promise<void> {\r\n  return new Promise((resolve, reject) => {\r\n    const id = requestId++;\r\n\r\n    /**\r\n     */\r\n    const onMessage = (type, payload) => {\r\n      if (payload.id !== id) {\r\n        // not ours\r\n        return;\r\n      }\r\n\r\n      switch (type) {\r\n        case 'done':\r\n          WorkerBody.removeEventListener(onMessage);\r\n          resolve(payload.result);\r\n          break;\r\n\r\n        case 'error':\r\n          WorkerBody.removeEventListener(onMessage);\r\n          reject(payload.error);\r\n          break;\r\n\r\n        default:\r\n        // ignore\r\n      }\r\n    };\r\n\r\n    WorkerBody.addEventListener(onMessage);\r\n\r\n    // Ask the main thread to decode data\r\n    const payload = {id, input: arrayBuffer, options};\r\n    WorkerBody.postMessage('process', payload);\r\n  });\r\n}\r\n\r\n// TODO - Support byteOffset and byteLength (enabling parsing of embedded binaries without copies)\r\n// TODO - Why not support async loader.parse* funcs here?\r\n// TODO - Why not reuse a common function instead of reimplementing loader.parse* selection logic? Keeping loader small?\r\n// TODO - Lack of appropriate parser functions can be detected when we create worker, no need to wait until parse\r\nasync function parseData({loader, arrayBuffer, options, context}) {\r\n  let data;\r\n  let parser;\r\n  if (loader.parseSync || loader.parse) {\r\n    data = arrayBuffer;\r\n    parser = loader.parseSync || loader.parse;\r\n  } else if (loader.parseTextSync) {\r\n    const textDecoder = new TextDecoder();\r\n    data = textDecoder.decode(arrayBuffer);\r\n    parser = loader.parseTextSync;\r\n  } else {\r\n    throw new Error(`Could not load data with ${loader.name} loader`);\r\n  }\r\n\r\n  // TODO - proper merge in of loader options...\r\n  options = {\r\n    ...options,\r\n    modules: (loader && loader.options && loader.options.modules) || {},\r\n    worker: false\r\n  };\r\n\r\n  return await parser(data, {...options}, context, loader);\r\n}\r\n","// Mesh category utilities\r\n// TODO - move to mesh category module, or to math.gl/geometry module\r\nimport {TypedArray} from '../../types';\r\nimport {MeshAttributes} from './mesh-types';\r\n\r\ntype TypedArrays = {[key: string]: TypedArray};\r\n\r\n/**\r\n * Holds an axis aligned bounding box\r\n * TODO - make sure AxisAlignedBoundingBox in math.gl/culling understands this format (or change this format)\r\n */\r\ntype BoundingBox = [[number, number, number], [number, number, number]];\r\n\r\n/**\r\n * Get number of vertices in mesh\r\n * @param attributes\r\n */\r\nexport function getMeshSize(attributes: TypedArrays): number {\r\n  let size = 0;\r\n  for (const attributeName in attributes) {\r\n    const attribute = attributes[attributeName];\r\n    if (ArrayBuffer.isView(attribute)) {\r\n      // @ts-ignore DataView doesn't have BYTES_PER_ELEMENT\r\n      size += attribute.byteLength * attribute.BYTES_PER_ELEMENT;\r\n    }\r\n  }\r\n  return size;\r\n}\r\n\r\n/**\r\n * Get the (axis aligned) bounding box of a mesh\r\n * @param attributes\r\n * @returns array of two vectors representing the axis aligned bounding box\r\n */\r\n// eslint-disable-next-line complexity\r\nexport function getMeshBoundingBox(attributes: MeshAttributes): BoundingBox {\r\n  let minX = Infinity;\r\n  let minY = Infinity;\r\n  let minZ = Infinity;\r\n  let maxX = -Infinity;\r\n  let maxY = -Infinity;\r\n  let maxZ = -Infinity;\r\n\r\n  const positions = attributes.POSITION ? attributes.POSITION.value : [];\r\n  const len = positions && positions.length;\r\n\r\n  for (let i = 0; i < len; i += 3) {\r\n    const x = positions[i];\r\n    const y = positions[i + 1];\r\n    const z = positions[i + 2];\r\n\r\n    minX = x < minX ? x : minX;\r\n    minY = y < minY ? y : minY;\r\n    minZ = z < minZ ? z : minZ;\r\n\r\n    maxX = x > maxX ? x : maxX;\r\n    maxY = y > maxY ? y : maxY;\r\n    maxZ = z > maxZ ? z : maxZ;\r\n  }\r\n  return [\r\n    [minX, minY, minZ],\r\n    [maxX, maxY, maxZ]\r\n  ];\r\n}\r\n","// OBJ Loader, adapted from THREE.js (MIT license)\r\n//\r\n// Attributions per original THREE.js source file:\r\n//\r\n// @author mrdoob / http://mrdoob.com/\r\n\r\n// @ts-nocheck\r\n\r\n// o object_name | g group_name\r\nconst OBJECT_RE = /^[og]\\s*(.+)?/;\r\n// mtllib file_reference\r\nconst MATERIAL_RE = /^mtllib /;\r\n// usemtl material_name\r\nconst MATERIAL_USE_RE = /^usemtl /;\r\n\r\nclass MeshMaterial {\r\n  constructor({index, name = '', mtllib, smooth, groupStart}) {\r\n    this.index = index;\r\n    this.name = name;\r\n    this.mtllib = mtllib;\r\n    this.smooth = smooth;\r\n    this.groupStart = groupStart;\r\n    this.groupEnd = -1;\r\n    this.groupCount = -1;\r\n    this.inherited = false;\r\n  }\r\n\r\n  clone(index = this.index) {\r\n    return new MeshMaterial({\r\n      index,\r\n      name: this.name,\r\n      mtllib: this.mtllib,\r\n      smooth: this.smooth,\r\n      groupStart: 0\r\n    });\r\n  }\r\n}\r\n\r\nclass MeshObject {\r\n  constructor(name = '') {\r\n    this.name = name;\r\n\r\n    this.geometry = {\r\n      vertices: [],\r\n      normals: [],\r\n      colors: [],\r\n      uvs: []\r\n    };\r\n\r\n    this.materials = [];\r\n    this.smooth = true;\r\n\r\n    this.fromDeclaration = null;\r\n  }\r\n\r\n  startMaterial(name, libraries) {\r\n    const previous = this._finalize(false);\r\n\r\n    // New usemtl declaration overwrites an inherited material, except if faces were declared\r\n    // after the material, then it must be preserved for proper MultiMaterial continuation.\r\n    if (previous && (previous.inherited || previous.groupCount <= 0)) {\r\n      this.materials.splice(previous.index, 1);\r\n    }\r\n\r\n    const material = new MeshMaterial({\r\n      index: this.materials.length,\r\n      name,\r\n      mtllib:\r\n        Array.isArray(libraries) && libraries.length > 0 ? libraries[libraries.length - 1] : '',\r\n      smooth: previous !== undefined ? previous.smooth : this.smooth,\r\n      groupStart: previous !== undefined ? previous.groupEnd : 0\r\n    });\r\n\r\n    this.materials.push(material);\r\n\r\n    return material;\r\n  }\r\n\r\n  currentMaterial() {\r\n    if (this.materials.length > 0) {\r\n      return this.materials[this.materials.length - 1];\r\n    }\r\n\r\n    return undefined;\r\n  }\r\n\r\n  _finalize(end) {\r\n    const lastMultiMaterial = this.currentMaterial();\r\n    if (lastMultiMaterial && lastMultiMaterial.groupEnd === -1) {\r\n      lastMultiMaterial.groupEnd = this.geometry.vertices.length / 3;\r\n      lastMultiMaterial.groupCount = lastMultiMaterial.groupEnd - lastMultiMaterial.groupStart;\r\n      lastMultiMaterial.inherited = false;\r\n    }\r\n\r\n    // Ignore objects tail materials if no face declarations followed them before a new o/g started.\r\n    if (end && this.materials.length > 1) {\r\n      for (let mi = this.materials.length - 1; mi >= 0; mi--) {\r\n        if (this.materials[mi].groupCount <= 0) {\r\n          this.materials.splice(mi, 1);\r\n        }\r\n      }\r\n    }\r\n\r\n    // Guarantee at least one empty material, this makes the creation later more straight forward.\r\n    if (end && this.materials.length === 0) {\r\n      this.materials.push({\r\n        name: '',\r\n        smooth: this.smooth\r\n      });\r\n    }\r\n\r\n    return lastMultiMaterial;\r\n  }\r\n}\r\n\r\nclass ParserState {\r\n  constructor() {\r\n    this.objects = [];\r\n    this.object = null;\r\n\r\n    this.vertices = [];\r\n    this.normals = [];\r\n    this.colors = [];\r\n    this.uvs = [];\r\n\r\n    this.materialLibraries = [];\r\n\r\n    this.startObject('', false);\r\n  }\r\n\r\n  startObject(name, fromDeclaration = true) {\r\n    // If the current object (initial from reset) is not from a g/o declaration in the parsed\r\n    // file. We need to use it for the first parsed g/o to keep things in sync.\r\n    if (this.object && !this.object.fromDeclaration) {\r\n      this.object.name = name;\r\n      this.object.fromDeclaration = fromDeclaration;\r\n      return;\r\n    }\r\n\r\n    const previousMaterial =\r\n      this.object && typeof this.object.currentMaterial === 'function'\r\n        ? this.object.currentMaterial()\r\n        : undefined;\r\n\r\n    if (this.object && typeof this.object._finalize === 'function') {\r\n      this.object._finalize(true);\r\n    }\r\n\r\n    this.object = new MeshObject(name);\r\n    this.object.fromDeclaration = fromDeclaration;\r\n\r\n    // Inherit previous objects material.\r\n    // Spec tells us that a declared material must be set to all objects until a new material is declared.\r\n    // If a usemtl declaration is encountered while this new object is being parsed, it will\r\n    // overwrite the inherited material. Exception being that there was already face declarations\r\n    // to the inherited material, then it will be preserved for proper MultiMaterial continuation.\r\n    if (previousMaterial && previousMaterial.name && typeof previousMaterial.clone === 'function') {\r\n      const declared = previousMaterial.clone(0);\r\n      declared.inherited = true;\r\n      this.object.materials.push(declared);\r\n    }\r\n\r\n    this.objects.push(this.object);\r\n  }\r\n\r\n  finalize() {\r\n    if (this.object && typeof this.object._finalize === 'function') {\r\n      this.object._finalize(true);\r\n    }\r\n  }\r\n\r\n  parseVertexIndex(value, len) {\r\n    const index = parseInt(value);\r\n    return (index >= 0 ? index - 1 : index + len / 3) * 3;\r\n  }\r\n\r\n  parseNormalIndex(value, len) {\r\n    const index = parseInt(value);\r\n    return (index >= 0 ? index - 1 : index + len / 3) * 3;\r\n  }\r\n\r\n  parseUVIndex(value, len) {\r\n    const index = parseInt(value);\r\n    return (index >= 0 ? index - 1 : index + len / 2) * 2;\r\n  }\r\n\r\n  addVertex(a, b, c) {\r\n    const src = this.vertices;\r\n    const dst = this.object.geometry.vertices;\r\n\r\n    dst.push(src[a + 0], src[a + 1], src[a + 2]);\r\n    dst.push(src[b + 0], src[b + 1], src[b + 2]);\r\n    dst.push(src[c + 0], src[c + 1], src[c + 2]);\r\n  }\r\n\r\n  addVertexPoint(a) {\r\n    const src = this.vertices;\r\n    const dst = this.object.geometry.vertices;\r\n\r\n    dst.push(src[a + 0], src[a + 1], src[a + 2]);\r\n  }\r\n\r\n  addVertexLine(a) {\r\n    const src = this.vertices;\r\n    const dst = this.object.geometry.vertices;\r\n\r\n    dst.push(src[a + 0], src[a + 1], src[a + 2]);\r\n  }\r\n\r\n  addNormal(a, b, c) {\r\n    const src = this.normals;\r\n    const dst = this.object.geometry.normals;\r\n\r\n    dst.push(src[a + 0], src[a + 1], src[a + 2]);\r\n    dst.push(src[b + 0], src[b + 1], src[b + 2]);\r\n    dst.push(src[c + 0], src[c + 1], src[c + 2]);\r\n  }\r\n\r\n  addColor(a, b, c) {\r\n    const src = this.colors;\r\n    const dst = this.object.geometry.colors;\r\n\r\n    dst.push(src[a + 0], src[a + 1], src[a + 2]);\r\n    dst.push(src[b + 0], src[b + 1], src[b + 2]);\r\n    dst.push(src[c + 0], src[c + 1], src[c + 2]);\r\n  }\r\n\r\n  addUV(a, b, c) {\r\n    const src = this.uvs;\r\n    const dst = this.object.geometry.uvs;\r\n\r\n    dst.push(src[a + 0], src[a + 1]);\r\n    dst.push(src[b + 0], src[b + 1]);\r\n    dst.push(src[c + 0], src[c + 1]);\r\n  }\r\n\r\n  addUVLine(a) {\r\n    const src = this.uvs;\r\n    const dst = this.object.geometry.uvs;\r\n\r\n    dst.push(src[a + 0], src[a + 1]);\r\n  }\r\n\r\n  // eslint-disable-next-line max-params\r\n  addFace(a, b, c, ua, ub, uc, na, nb, nc) {\r\n    const vLen = this.vertices.length;\r\n\r\n    let ia = this.parseVertexIndex(a, vLen);\r\n    let ib = this.parseVertexIndex(b, vLen);\r\n    let ic = this.parseVertexIndex(c, vLen);\r\n\r\n    this.addVertex(ia, ib, ic);\r\n\r\n    if (ua !== undefined && ua !== '') {\r\n      const uvLen = this.uvs.length;\r\n      ia = this.parseUVIndex(ua, uvLen);\r\n      ib = this.parseUVIndex(ub, uvLen);\r\n      ic = this.parseUVIndex(uc, uvLen);\r\n      this.addUV(ia, ib, ic);\r\n    }\r\n\r\n    if (na !== undefined && na !== '') {\r\n      // Normals are many times the same. If so, skip function call and parseInt.\r\n      const nLen = this.normals.length;\r\n      ia = this.parseNormalIndex(na, nLen);\r\n\r\n      ib = na === nb ? ia : this.parseNormalIndex(nb, nLen);\r\n      ic = na === nc ? ia : this.parseNormalIndex(nc, nLen);\r\n\r\n      this.addNormal(ia, ib, ic);\r\n    }\r\n\r\n    if (this.colors.length > 0) {\r\n      this.addColor(ia, ib, ic);\r\n    }\r\n  }\r\n\r\n  addPointGeometry(vertices) {\r\n    this.object.geometry.type = 'Points';\r\n\r\n    const vLen = this.vertices.length;\r\n\r\n    for (const vertex of vertices) {\r\n      this.addVertexPoint(this.parseVertexIndex(vertex, vLen));\r\n    }\r\n  }\r\n\r\n  addLineGeometry(vertices, uvs) {\r\n    this.object.geometry.type = 'Line';\r\n\r\n    const vLen = this.vertices.length;\r\n    const uvLen = this.uvs.length;\r\n\r\n    for (const vertex of vertices) {\r\n      this.addVertexLine(this.parseVertexIndex(vertex, vLen));\r\n    }\r\n\r\n    for (const uv of uvs) {\r\n      this.addUVLine(this.parseUVIndex(uv, uvLen));\r\n    }\r\n  }\r\n}\r\n\r\n// eslint-disable-next-line max-statements, complexity\r\nexport default (text) => {\r\n  const state = new ParserState();\r\n\r\n  if (text.indexOf('\\r\\n') !== -1) {\r\n    // This is faster than String.split with regex that splits on both\r\n    text = text.replace(/\\r\\n/g, '\\n');\r\n  }\r\n\r\n  if (text.indexOf('\\\\\\n') !== -1) {\r\n    // join lines separated by a line continuation character (\\)\r\n    text = text.replace(/\\\\\\n/g, '');\r\n  }\r\n\r\n  const lines = text.split('\\n');\r\n  let line = '';\r\n  let lineFirstChar = '';\r\n  let lineLength = 0;\r\n  let result = [];\r\n\r\n  // Faster to just trim left side of the line. Use if available.\r\n  const trimLeft = typeof ''.trimLeft === 'function';\r\n\r\n  /* eslint-disable no-continue, max-depth */\r\n  for (let i = 0, l = lines.length; i < l; i++) {\r\n    line = lines[i];\r\n    line = trimLeft ? line.trimLeft() : line.trim();\r\n    lineLength = line.length;\r\n\r\n    if (lineLength === 0) continue;\r\n\r\n    lineFirstChar = line.charAt(0);\r\n\r\n    // @todo invoke passed in handler if any\r\n    if (lineFirstChar === '#') continue;\r\n\r\n    if (lineFirstChar === 'v') {\r\n      const data = line.split(/\\s+/);\r\n\r\n      switch (data[0]) {\r\n        case 'v':\r\n          state.vertices.push(parseFloat(data[1]), parseFloat(data[2]), parseFloat(data[3]));\r\n          if (data.length === 8) {\r\n            state.colors.push(parseFloat(data[4]), parseFloat(data[5]), parseFloat(data[6]));\r\n          }\r\n          break;\r\n        case 'vn':\r\n          state.normals.push(parseFloat(data[1]), parseFloat(data[2]), parseFloat(data[3]));\r\n          break;\r\n        case 'vt':\r\n          state.uvs.push(parseFloat(data[1]), parseFloat(data[2]));\r\n          break;\r\n        default:\r\n      }\r\n    } else if (lineFirstChar === 'f') {\r\n      const lineData = line.substr(1).trim();\r\n      const vertexData = lineData.split(/\\s+/);\r\n      const faceVertices = [];\r\n\r\n      // Parse the face vertex data into an easy to work with format\r\n\r\n      for (let j = 0, jl = vertexData.length; j < jl; j++) {\r\n        const vertex = vertexData[j];\r\n\r\n        if (vertex.length > 0) {\r\n          const vertexParts = vertex.split('/');\r\n          faceVertices.push(vertexParts);\r\n        }\r\n      }\r\n\r\n      // Draw an edge between the first vertex and all subsequent vertices to form an n-gon\r\n\r\n      const v1 = faceVertices[0];\r\n\r\n      for (let j = 1, jl = faceVertices.length - 1; j < jl; j++) {\r\n        const v2 = faceVertices[j];\r\n        const v3 = faceVertices[j + 1];\r\n\r\n        state.addFace(v1[0], v2[0], v3[0], v1[1], v2[1], v3[1], v1[2], v2[2], v3[2]);\r\n      }\r\n    } else if (lineFirstChar === 'l') {\r\n      const lineParts = line.substring(1).trim().split(' ');\r\n      let lineVertices;\r\n      const lineUVs = [];\r\n\r\n      if (line.indexOf('/') === -1) {\r\n        lineVertices = lineParts;\r\n      } else {\r\n        lineVertices = [];\r\n        for (let li = 0, llen = lineParts.length; li < llen; li++) {\r\n          const parts = lineParts[li].split('/');\r\n\r\n          if (parts[0] !== '') lineVertices.push(parts[0]);\r\n          if (parts[1] !== '') lineUVs.push(parts[1]);\r\n        }\r\n      }\r\n      state.addLineGeometry(lineVertices, lineUVs);\r\n    } else if (lineFirstChar === 'p') {\r\n      const lineData = line.substr(1).trim();\r\n      const pointData = lineData.split(' ');\r\n\r\n      state.addPointGeometry(pointData);\r\n    } else if ((result = OBJECT_RE.exec(line)) !== null) {\r\n      // o object_name\r\n      // or\r\n      // g group_name\r\n\r\n      // WORKAROUND: https://bugs.chromium.org/p/v8/issues/detail?id=2869\r\n      // var name = result[ 0 ].substr( 1 ).trim();\r\n      const name = (' ' + result[0].substr(1).trim()).substr(1); // eslint-disable-line\r\n\r\n      state.startObject(name);\r\n    } else if (MATERIAL_USE_RE.test(line)) {\r\n      // material\r\n\r\n      state.object.startMaterial(line.substring(7).trim(), state.materialLibraries);\r\n    } else if (MATERIAL_RE.test(line)) {\r\n      // mtl file\r\n\r\n      state.materialLibraries.push(line.substring(7).trim());\r\n    } else if (lineFirstChar === 's') {\r\n      result = line.split(' ');\r\n\r\n      // smooth shading\r\n\r\n      // @todo Handle files that have varying smooth values for a set of faces inside one geometry,\r\n      // but does not define a usemtl for each face set.\r\n      // This should be detected and a dummy material created (later MultiMaterial and geometry groups).\r\n      // This requires some care to not create extra material on each smooth value for \"normal\" obj files.\r\n      // where explicit usemtl defines geometry groups.\r\n      // Example asset: examples/models/obj/cerberus/Cerberus.obj\r\n\r\n      /*\r\n       * http://paulbourke.net/dataformats/obj/\r\n       * or\r\n       * http://www.cs.utah.edu/~boulos/cs3505/obj_spec.pdf\r\n       *\r\n       * From chapter \"Grouping\" Syntax explanation \"s group_number\":\r\n       * \"group_number is the smoothing group number. To turn off smoothing groups, use a value of 0 or off.\r\n       * Polygonal elements use group numbers to put elements in different smoothing groups. For free-form\r\n       * surfaces, smoothing groups are either turned on or off; there is no difference between values greater\r\n       * than 0.\"\r\n       */\r\n      if (result.length > 1) {\r\n        const value = result[1].trim().toLowerCase();\r\n        state.object.smooth = value !== '0' && value !== 'off';\r\n      } else {\r\n        // ZBrush can produce \"s\" lines #11707\r\n        state.object.smooth = true;\r\n      }\r\n      const material = state.object.currentMaterial();\r\n      if (material) material.smooth = state.object.smooth;\r\n    } else {\r\n      // Handle null terminated files without exception\r\n      if (line === '\\0') continue;\r\n\r\n      throw new Error(`Unexpected line: \"${line}\"`);\r\n    }\r\n  }\r\n\r\n  state.finalize();\r\n\r\n  const meshes = [];\r\n  const materials = [];\r\n\r\n  for (const object of state.objects) {\r\n    const {geometry} = object;\r\n\r\n    // Skip o/g line declarations that did not follow with any faces\r\n    if (geometry.vertices.length === 0) continue;\r\n\r\n    const mesh = {\r\n      header: {\r\n        vertexCount: geometry.vertices.length / 3\r\n      },\r\n      attributes: {}\r\n    };\r\n\r\n    switch (geometry.type) {\r\n      case 'Points':\r\n        mesh.mode = 0; // GL.POINTS\r\n        break;\r\n      case 'Line':\r\n        mesh.mode = 1; // GL.LINES\r\n        break;\r\n      default:\r\n        mesh.mode = 4; // GL.TRIANGLES\r\n        break;\r\n    }\r\n\r\n    mesh.attributes.POSITION = {value: new Float32Array(geometry.vertices), size: 3};\r\n\r\n    if (geometry.normals.length > 0) {\r\n      mesh.attributes.NORMAL = {value: new Float32Array(geometry.normals), size: 3};\r\n    }\r\n\r\n    if (geometry.colors.length > 0) {\r\n      mesh.attributes.COLOR_0 = {value: new Float32Array(geometry.colors), size: 3};\r\n    }\r\n\r\n    if (geometry.uvs.length > 0) {\r\n      mesh.attributes.TEXCOORD_0 = {value: new Float32Array(geometry.uvs), size: 2};\r\n    }\r\n\r\n    // Create materials\r\n    mesh.materials = [];\r\n    for (const sourceMaterial of object.materials) {\r\n      // TODO - support full spec\r\n      const _material = {\r\n        name: sourceMaterial.name,\r\n        flatShading: !sourceMaterial.smooth\r\n      };\r\n      mesh.materials.push(_material);\r\n      materials.push(_material);\r\n    }\r\n\r\n    mesh.name = object.name;\r\n    meshes.push(mesh);\r\n  }\r\n\r\n  return {meshes, materials};\r\n};\r\n","import {assert} from '../../utils/assert';\r\nimport Field from './field';\r\n\r\nexport type SchemaMetadata = Map<string, any>;\r\n\r\n/**\r\n * ArrowJS `Schema` API-compatible class for row-based tables (returned from `DataTable`)\r\n * https://loaders.gl/arrowjs/docs/api-reference/schema\r\n */\r\nexport default class Schema {\r\n  fields: Field[];\r\n  // TODO - Arrow just allows Map<string, string>\r\n  metadata: SchemaMetadata;\r\n\r\n  constructor(fields: Field[], metadata?: SchemaMetadata) {\r\n    assert(Array.isArray(fields));\r\n    checkNames(fields);\r\n    // For kepler fields, create arrow compatible `Fields` that have kepler fields as `metadata`\r\n    this.fields = fields;\r\n    this.metadata = metadata || new Map();\r\n  }\r\n\r\n  // TODO - arrow only seems to compare fields, not metadata\r\n  compareTo(other: Schema): boolean {\r\n    if (this.metadata !== other.metadata) {\r\n      return false;\r\n    }\r\n    if (this.fields.length !== other.fields.length) {\r\n      return false;\r\n    }\r\n    for (let i = 0; i < this.fields.length; ++i) {\r\n      if (!this.fields[i].compareTo(other.fields[i])) {\r\n        return false;\r\n      }\r\n    }\r\n    return true;\r\n  }\r\n\r\n  select(...columnNames: string[]): Schema {\r\n    // Ensure column names reference valid fields\r\n    const nameMap = Object.create(null);\r\n    for (const name of columnNames) {\r\n      nameMap[name] = true;\r\n    }\r\n    const selectedFields = this.fields.filter((field) => nameMap[field.name]);\r\n    return new Schema(selectedFields, this.metadata);\r\n  }\r\n\r\n  selectAt(...columnIndices: number[]): Schema {\r\n    // Ensure column indices reference valid fields\r\n    const selectedFields = columnIndices.map((index) => this.fields[index]).filter(Boolean);\r\n    return new Schema(selectedFields, this.metadata);\r\n  }\r\n\r\n  assign(schemaOrFields: Schema | Field[]): Schema {\r\n    let fields: Field[];\r\n    let metadata: SchemaMetadata = this.metadata;\r\n\r\n    if (schemaOrFields instanceof Schema) {\r\n      const otherSchema = schemaOrFields;\r\n      fields = otherSchema.fields;\r\n      metadata = mergeMaps(mergeMaps(new Map(), this.metadata), otherSchema.metadata);\r\n    } else {\r\n      fields = schemaOrFields;\r\n    }\r\n\r\n    // Create a merged list of fields, overwrite fields in place, new fields at end\r\n    const fieldMap: {[key: string]: Field} = Object.create(null);\r\n\r\n    for (const field of this.fields) {\r\n      fieldMap[field.name] = field;\r\n    }\r\n\r\n    for (const field of fields) {\r\n      fieldMap[field.name] = field;\r\n    }\r\n\r\n    const mergedFields = Object.values(fieldMap);\r\n\r\n    return new Schema(mergedFields, metadata);\r\n  }\r\n}\r\n\r\n// Warn if any duplicated field names\r\nfunction checkNames(fields) {\r\n  const usedNames = {};\r\n  for (const field of fields) {\r\n    if (usedNames[field.name]) {\r\n      // eslint-disable-next-line\r\n      console.warn('Schema: duplicated field name', field.name, field);\r\n    }\r\n    usedNames[field.name] = true;\r\n  }\r\n}\r\n\r\nfunction mergeMaps<T>(m1: T, m2: T): T {\r\n  // @ts-ignore\r\n  return new Map([...(m1 || new Map()), ...(m2 || new Map())]);\r\n}\r\n","// Replacement for the external assert method to reduce bundle size\r\n// Note: We don't use the second \"message\" argument in calling code,\r\n// so no need to support it here\r\nexport function assert(condition: boolean, message?: string) {\r\n  if (!condition) {\r\n    throw new Error(message || 'loader assertion failed.');\r\n  }\r\n}\r\n","// This code is adapted from ArrowJS https://github.com/apache/arrow\r\n// under Apache license http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n/**\r\n * Main data type enumeration.\r\n *\r\n * Data types in this library are all *logical*. They can be expressed as\r\n * either a primitive physical type (bytes or bits of some fixed size), a\r\n * nested type consisting of other data types, or another data type (e.g. a\r\n * timestamp encoded as an int64).\r\n *\r\n * **Note**: Only enum values 0-17 (NONE through Map) are written to an Arrow\r\n * IPC payload.\r\n *\r\n * The rest of the values are specified here so TypeScript can narrow the type\r\n * signatures further beyond the base Arrow Types. The Arrow DataTypes include\r\n * metadata like `bitWidth` that impact the type signatures of the values we\r\n * accept and return.\r\n *\r\n * For example, the `Int8Vector` reads 1-byte numbers from an `Int8Array`, an\r\n * `Int32Vector` reads a 4-byte number from an `Int32Array`, and an `Int64Vector`\r\n * reads a pair of 4-byte lo, hi 32-bit integers as a zero-copy slice from the\r\n * underlying `Int32Array`.\r\n *\r\n * Library consumers benefit by knowing the narrowest type, since we can ensure\r\n * the types across all public methods are propagated, and never bail to `any`.\r\n * These values are _never_ used at runtime, and they will _never_ be written\r\n * to the flatbuffers metadata of serialized Arrow IPC payloads.\r\n */\r\nexport enum Type {\r\n  /** The default placeholder type */\r\n  NONE = 0,\r\n  /** A NULL type having no physical storage */\r\n  Null = 1,\r\n  /** Signed or unsigned 8, 16, 32, or 64-bit little-endian integer */\r\n  Int = 2,\r\n  /** 2, 4, or 8-byte floating point value */\r\n  Float = 3,\r\n  /** Variable-length bytes (no guarantee of UTF8-ness) */\r\n  Binary = 4,\r\n  /** UTF8 variable-length string as List<Char> */\r\n  Utf8 = 5,\r\n  /** Boolean as 1 bit, LSB bit-packed ordering */\r\n  Bool = 6,\r\n  /** Precision-and-scale-based decimal type. Storage type depends on the parameters. */\r\n  Decimal = 7,\r\n  /** int32_t days or int64_t milliseconds since the UNIX epoch */\r\n  Date = 8,\r\n  /** Time as signed 32 or 64-bit integer, representing either seconds, milliseconds, microseconds, or nanoseconds since midnight since midnight */\r\n  Time = 9,\r\n  /** Exact timestamp encoded with int64 since UNIX epoch (Default unit millisecond) */\r\n  Timestamp = 10,\r\n  /** YEAR_MONTH or DAY_TIME interval in SQL style */\r\n  Interval = 11,\r\n  /** A list of some logical data type */\r\n  List = 12,\r\n  /** Struct of logical types */\r\n  Struct = 13,\r\n  /** Union of logical types */\r\n  Union = 14,\r\n  /** Fixed-size binary. Each value occupies the same number of bytes */\r\n  FixedSizeBinary = 15,\r\n  /** Fixed-size list. Each value occupies the same number of bytes */\r\n  FixedSizeList = 16,\r\n  /** Map of named logical types */\r\n  Map = 17,\r\n\r\n  /** Dictionary aka Category type */\r\n  Dictionary = -1,\r\n  Int8 = -2,\r\n  Int16 = -3,\r\n  Int32 = -4,\r\n  Int64 = -5,\r\n  Uint8 = -6,\r\n  Uint16 = -7,\r\n  Uint32 = -8,\r\n  Uint64 = -9,\r\n  Float16 = -10,\r\n  Float32 = -11,\r\n  Float64 = -12,\r\n  DateDay = -13,\r\n  DateMillisecond = -14,\r\n  TimestampSecond = -15,\r\n  TimestampMillisecond = -16,\r\n  TimestampMicrosecond = -17,\r\n  TimestampNanosecond = -18,\r\n  TimeSecond = -19,\r\n  TimeMillisecond = -20,\r\n  TimeMicrosecond = -21,\r\n  TimeNanosecond = -22,\r\n  DenseUnion = -23,\r\n  SparseUnion = -24,\r\n  IntervalDayTime = -25,\r\n  IntervalYearMonth = -26\r\n}\r\n","// This code is adapted from ArrowJS https://github.com/apache/arrow\r\n// under Apache license http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nimport {Type} from './enum';\r\n\r\nimport Field from './field';\r\n\r\nexport {Type} from './enum';\r\n\r\nexport type TypedIntArray =\r\n  | Int8Array\r\n  | Uint8Array\r\n  | Int16Array\r\n  | Uint16Array\r\n  | Int32Array\r\n  | Uint32Array\r\n  | Int32Array\r\n  | Uint32Array\r\n  | Uint8ClampedArray;\r\n\r\nexport type TypedFloatArray = Float32Array | Float64Array;\r\n\r\nexport type TypedArray = TypedIntArray | TypedFloatArray;\r\n\r\nexport type AnyArrayType = Array<any> | TypedIntArray | TypedFloatArray;\r\n\r\nexport class DataType {\r\n  static isNull(x: any): boolean {\r\n    return x && x.typeId === Type.Null;\r\n  }\r\n  static isInt(x: any): boolean {\r\n    return x && x.typeId === Type.Int;\r\n  }\r\n  static isFloat(x: any): boolean {\r\n    return x && x.typeId === Type.Float;\r\n  }\r\n  static isBinary(x: any): boolean {\r\n    return x && x.typeId === Type.Binary;\r\n  }\r\n  static isUtf8(x: any): boolean {\r\n    return x && x.typeId === Type.Utf8;\r\n  }\r\n  static isBool(x: any): boolean {\r\n    return x && x.typeId === Type.Bool;\r\n  }\r\n  static isDecimal(x: any): boolean {\r\n    return x && x.typeId === Type.Decimal;\r\n  }\r\n  static isDate(x: any): boolean {\r\n    return x && x.typeId === Type.Date;\r\n  }\r\n  static isTime(x: any): boolean {\r\n    return x && x.typeId === Type.Time;\r\n  }\r\n  static isTimestamp(x: any): boolean {\r\n    return x && x.typeId === Type.Timestamp;\r\n  }\r\n  static isInterval(x: any): boolean {\r\n    return x && x.typeId === Type.Interval;\r\n  }\r\n  static isList(x: any): boolean {\r\n    return x && x.typeId === Type.List;\r\n  }\r\n  static isStruct(x: any): boolean {\r\n    return x && x.typeId === Type.Struct;\r\n  }\r\n  static isUnion(x: any): boolean {\r\n    return x && x.typeId === Type.Union;\r\n  }\r\n  static isFixedSizeBinary(x: any): boolean {\r\n    return x && x.typeId === Type.FixedSizeBinary;\r\n  }\r\n  static isFixedSizeList(x: any): boolean {\r\n    return x && x.typeId === Type.FixedSizeList;\r\n  }\r\n  static isMap(x: any): boolean {\r\n    return x && x.typeId === Type.Map;\r\n  }\r\n  static isDictionary(x: any): boolean {\r\n    return x && x.typeId === Type.Dictionary;\r\n  }\r\n\r\n  get typeId(): Type {\r\n    return Type.NONE;\r\n  }\r\n\r\n  // get ArrayType(): AnyArrayType {\r\n  //   return Int8Array;\r\n  // }\r\n\r\n  // get ArrayType() { return Array; }\r\n  compareTo(other: DataType): boolean {\r\n    // TODO\r\n    return this === other; // comparer.visit(this, other);\r\n  }\r\n}\r\n\r\n// NULL\r\n\r\nexport class Null extends DataType {\r\n  get typeId(): Type {\r\n    return Type.Null;\r\n  }\r\n  get [Symbol.toStringTag](): string {\r\n    return 'Null';\r\n  }\r\n  toString(): string {\r\n    return 'Null';\r\n  }\r\n}\r\n\r\n// BOOLEANS\r\n\r\nexport class Bool extends DataType {\r\n  get typeId(): Type {\r\n    return Type.Bool;\r\n  }\r\n  // get ArrayType() {\r\n  //   return Uint8Array;\r\n  // }\r\n  get [Symbol.toStringTag](): string {\r\n    return 'Bool';\r\n  }\r\n  toString(): string {\r\n    return 'Bool';\r\n  }\r\n}\r\n\r\n// INTS\r\n\r\nexport class Int extends DataType {\r\n  readonly isSigned: boolean;\r\n  readonly bitWidth: number;\r\n  constructor(isSigned, bitWidth) {\r\n    super();\r\n    this.isSigned = isSigned;\r\n    this.bitWidth = bitWidth;\r\n  }\r\n  get typeId(): Type {\r\n    return Type.Int;\r\n  }\r\n  // get ArrayType() {\r\n  //   switch (this.bitWidth) {\r\n  //     case 8:\r\n  //       return this.isSigned ? Int8Array : Uint8Array;\r\n  //     case 16:\r\n  //       return this.isSigned ? Int16Array : Uint16Array;\r\n  //     case 32:\r\n  //       return this.isSigned ? Int32Array : Uint32Array;\r\n  //     case 64:\r\n  //       return this.isSigned ? Int32Array : Uint32Array;\r\n  //     default:\r\n  //       throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`);\r\n  //   }\r\n  // }\r\n  get [Symbol.toStringTag](): string {\r\n    return 'Int';\r\n  }\r\n  toString(): string {\r\n    return `${this.isSigned ? 'I' : 'Ui'}nt${this.bitWidth}`;\r\n  }\r\n}\r\n\r\nexport class Int8 extends Int {\r\n  constructor() {\r\n    super(true, 8);\r\n  }\r\n}\r\nexport class Int16 extends Int {\r\n  constructor() {\r\n    super(true, 16);\r\n  }\r\n}\r\nexport class Int32 extends Int {\r\n  constructor() {\r\n    super(true, 32);\r\n  }\r\n}\r\nexport class Int64 extends Int {\r\n  constructor() {\r\n    super(true, 64);\r\n  }\r\n}\r\nexport class Uint8 extends Int {\r\n  constructor() {\r\n    super(false, 8);\r\n  }\r\n}\r\nexport class Uint16 extends Int {\r\n  constructor() {\r\n    super(false, 16);\r\n  }\r\n}\r\nexport class Uint32 extends Int {\r\n  constructor() {\r\n    super(false, 32);\r\n  }\r\n}\r\nexport class Uint64 extends Int {\r\n  constructor() {\r\n    super(false, 64);\r\n  }\r\n}\r\n\r\n// FLOATS\r\n\r\nconst Precision = {\r\n  HALF: 16,\r\n  SINGLE: 32,\r\n  DOUBLE: 64\r\n};\r\n\r\nexport class Float extends DataType {\r\n  readonly precision: number;\r\n  constructor(precision) {\r\n    super();\r\n    this.precision = precision;\r\n  }\r\n  get typeId(): Type {\r\n    return Type.Float;\r\n  }\r\n  // get ArrayType() {\r\n  //   switch (this.precision) {\r\n  //     case Precision.HALF:\r\n  //       return Uint16Array;\r\n  //     case Precision.SINGLE:\r\n  //       return Float32Array;\r\n  //     case Precision.DOUBLE:\r\n  //       return Float64Array;\r\n  //     default:\r\n  //       throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`);\r\n  //   }\r\n  // }\r\n  get [Symbol.toStringTag](): string {\r\n    return 'Float';\r\n  }\r\n  toString(): string {\r\n    return `Float${this.precision}`;\r\n  }\r\n}\r\n\r\nexport class Float16 extends Float {\r\n  constructor() {\r\n    super(Precision.HALF);\r\n  }\r\n}\r\nexport class Float32 extends Float {\r\n  constructor() {\r\n    super(Precision.SINGLE);\r\n  }\r\n}\r\nexport class Float64 extends Float {\r\n  constructor() {\r\n    super(Precision.DOUBLE);\r\n  }\r\n}\r\n\r\nexport class Binary extends DataType {\r\n  constructor() {\r\n    super();\r\n  }\r\n  get typeId() {\r\n    return Type.Binary;\r\n  }\r\n  toString() {\r\n    return 'Binary';\r\n  }\r\n  get [Symbol.toStringTag]() {\r\n    return 'Binary';\r\n  }\r\n}\r\n\r\n// STRINGS\r\n\r\nexport class Utf8 extends DataType {\r\n  get typeId(): Type {\r\n    return Type.Utf8;\r\n  }\r\n  // get ArrayType() {\r\n  //   return Uint8Array;\r\n  // }\r\n  get [Symbol.toStringTag](): string {\r\n    return 'Utf8';\r\n  }\r\n  toString(): string {\r\n    return 'Utf8';\r\n  }\r\n}\r\n\r\n// DATES, TIMES AND INTERVALS\r\n\r\nconst DateUnit = {\r\n  DAY: 0,\r\n  MILLISECOND: 1\r\n};\r\n\r\nexport class Date extends DataType {\r\n  readonly unit: number;\r\n  constructor(unit) {\r\n    super();\r\n    this.unit = unit;\r\n  }\r\n  get typeId(): Type {\r\n    return Type.Date;\r\n  }\r\n  // get ArrayType() {\r\n  //   return Int32Array;\r\n  // }\r\n  get [Symbol.toStringTag](): string {\r\n    return 'Date';\r\n  }\r\n  toString(): string {\r\n    return `Date${(this.unit + 1) * 32}<${DateUnit[this.unit]}>`;\r\n  }\r\n}\r\n\r\nexport class DateDay extends Date {\r\n  constructor() {\r\n    super(DateUnit.DAY);\r\n  }\r\n}\r\nexport class DateMillisecond extends Date {\r\n  constructor() {\r\n    super(DateUnit.MILLISECOND);\r\n  }\r\n}\r\n\r\nconst TimeUnit = {\r\n  SECOND: 1,\r\n  MILLISECOND: 1e3,\r\n  MICROSECOND: 1e6,\r\n  NANOSECOND: 1e9\r\n};\r\n\r\nexport class Time extends DataType {\r\n  readonly unit: number;\r\n  readonly bitWidth: number;\r\n\r\n  constructor(unit, bitWidth) {\r\n    super();\r\n    this.unit = unit;\r\n    this.bitWidth = bitWidth;\r\n  }\r\n  get typeId(): Type {\r\n    return Type.Time;\r\n  }\r\n  toString(): string {\r\n    return `Time${this.bitWidth}<${TimeUnit[this.unit]}>`;\r\n  }\r\n  get [Symbol.toStringTag](): string {\r\n    return 'Time';\r\n  }\r\n  // get ArrayType() {\r\n  //   return Int32Array;\r\n  // }\r\n}\r\n\r\nexport class TimeSecond extends Time {\r\n  constructor() {\r\n    super(TimeUnit.SECOND, 32);\r\n  }\r\n}\r\nexport class TimeMillisecond extends Time {\r\n  constructor() {\r\n    super(TimeUnit.MILLISECOND, 32);\r\n  }\r\n}\r\n// export class TimeMicrosecond extends Time { constructor() { super(TimeUnit.MICROSECOND, 64); } }\r\n// export class TimeNanosecond extends Time { constructor() { super(TimeUnit.NANOSECOND, 64); } }\r\n\r\nexport class Timestamp extends DataType {\r\n  readonly unit: any;\r\n  readonly timezone: any;\r\n\r\n  constructor(unit: any, timezone = null) {\r\n    super();\r\n    this.unit = unit;\r\n    this.timezone = timezone;\r\n  }\r\n  get typeId(): Type {\r\n    return Type.Timestamp;\r\n  }\r\n  // get ArrayType() {\r\n  //   return Int32Array;\r\n  // }\r\n  get [Symbol.toStringTag](): string {\r\n    return 'Timestamp';\r\n  }\r\n  toString(): string {\r\n    return `Timestamp<${TimeUnit[this.unit]}${this.timezone ? `, ${this.timezone}` : ''}>`;\r\n  }\r\n}\r\n\r\nexport class TimestampSecond extends Timestamp {\r\n  constructor(timezone = null) {\r\n    super(TimeUnit.SECOND, timezone);\r\n  }\r\n}\r\nexport class TimestampMillisecond extends Timestamp {\r\n  constructor(timezone = null) {\r\n    super(TimeUnit.MILLISECOND, timezone);\r\n  }\r\n}\r\nexport class TimestampMicrosecond extends Timestamp {\r\n  constructor(timezone = null) {\r\n    super(TimeUnit.MICROSECOND, timezone);\r\n  }\r\n}\r\nexport class TimestampNanosecond extends Timestamp {\r\n  constructor(timezone = null) {\r\n    super(TimeUnit.NANOSECOND, timezone);\r\n  }\r\n}\r\n\r\nconst IntervalUnit = {\r\n  DAY_TIME: 0,\r\n  YEAR_MONTH: 1\r\n};\r\n\r\nexport class Interval extends DataType {\r\n  readonly unit: number;\r\n  constructor(unit: number) {\r\n    super();\r\n    this.unit = unit;\r\n  }\r\n  get typeId(): Type {\r\n    return Type.Interval;\r\n  }\r\n  // get ArrayType() {\r\n  //   return Int32Array;\r\n  // }\r\n  get [Symbol.toStringTag](): string {\r\n    return 'Interval';\r\n  }\r\n  toString(): string {\r\n    return `Interval<${IntervalUnit[this.unit]}>`;\r\n  }\r\n}\r\n\r\nexport class IntervalDayTime extends Interval {\r\n  constructor() {\r\n    super(IntervalUnit.DAY_TIME);\r\n  }\r\n}\r\nexport class IntervalYearMonth extends Interval {\r\n  constructor() {\r\n    super(IntervalUnit.YEAR_MONTH);\r\n  }\r\n}\r\n\r\nexport class FixedSizeList extends DataType {\r\n  readonly listSize: number;\r\n  readonly children: Field[];\r\n\r\n  constructor(listSize: number, child: Field) {\r\n    super();\r\n    this.listSize = listSize;\r\n    this.children = [child];\r\n  }\r\n  get typeId(): Type {\r\n    return Type.FixedSizeList;\r\n  }\r\n  get valueType() {\r\n    return this.children[0].type;\r\n  }\r\n  get valueField() {\r\n    return this.children[0];\r\n  }\r\n  // get ArrayType() {\r\n  //   return this.valueType.ArrayType;\r\n  // }\r\n  get [Symbol.toStringTag](): string {\r\n    return 'FixedSizeList';\r\n  }\r\n  toString(): string {\r\n    return `FixedSizeList[${this.listSize}]<${this.valueType}>`;\r\n  }\r\n}\r\n\r\nexport class Struct extends DataType {\r\n  public readonly children: Field[];\r\n\r\n  constructor(children: Field[]) {\r\n    super();\r\n    this.children = children;\r\n  }\r\n\r\n  public get typeId() {\r\n    return Type.Struct;\r\n  }\r\n  public toString() {\r\n    return `Struct<{${this.children.map((f) => `${f.name}:${f.type}`).join(', ')}}>`;\r\n  }\r\n  get [Symbol.toStringTag](): string {\r\n    return 'Struct';\r\n  }\r\n}\r\n","import {DataType} from './type';\r\n\r\n/**\r\n * ArrowJS `Field` API-compatible class for row-based tables\r\n * https://loaders.gl/arrowjs/docs/api-reference/field\r\n * A field holds name, nullable, and metadata information about a table \"column\"\r\n * A Schema is essentially a list of fields\r\n */\r\nexport default class Field {\r\n  name: string;\r\n  type: DataType;\r\n  nullable: boolean;\r\n  metadata: Map<string, string>;\r\n\r\n  constructor(\r\n    name: string,\r\n    type: DataType,\r\n    nullable = false,\r\n    metadata: Map<string, string> = new Map()\r\n  ) {\r\n    this.name = name;\r\n    this.type = type;\r\n    this.nullable = nullable;\r\n    this.metadata = metadata;\r\n  }\r\n\r\n  get typeId(): number {\r\n    return this.type && this.type.typeId;\r\n  }\r\n\r\n  clone(): Field {\r\n    return new Field(this.name, this.type, this.nullable, this.metadata);\r\n  }\r\n\r\n  compareTo(other: this): boolean {\r\n    return (\r\n      this.name === other.name &&\r\n      this.type === other.type &&\r\n      this.nullable === other.nullable &&\r\n      this.metadata === other.metadata\r\n    );\r\n  }\r\n\r\n  toString(): string {\r\n    return `${this.type}${this.nullable ? ', nullable' : ''}${\r\n      this.metadata ? `, metadata: ${this.metadata}` : ''\r\n    }`;\r\n  }\r\n}\r\n","import {Schema, Field, FixedSizeList, getArrowTypeFromTypedArray} from '@loaders.gl/schema';\r\n\r\nexport function getOBJSchema(attributes, metadata = {}) {\r\n  let metadataMap;\r\n  for (const key in metadata) {\r\n    metadataMap = metadataMap || new Map();\r\n    if (key !== 'value') {\r\n      metadataMap.set(key, JSON.stringify(metadata[key]));\r\n    }\r\n  }\r\n\r\n  const fields: Field[] = [];\r\n  for (const attributeName in attributes) {\r\n    const attribute = attributes[attributeName];\r\n    const field = getArrowFieldFromAttribute(attributeName, attribute);\r\n    fields.push(field);\r\n  }\r\n  return new Schema(fields, metadataMap);\r\n}\r\n\r\nfunction getArrowFieldFromAttribute(attributeName, attribute) {\r\n  const metadataMap = new Map();\r\n  for (const key in attribute) {\r\n    if (key !== 'value') {\r\n      metadataMap.set(key, JSON.stringify(attribute[key]));\r\n    }\r\n  }\r\n\r\n  const type = getArrowTypeFromTypedArray(attribute.value);\r\n  const isSingleValue = !('size' in attribute) || attribute.size === 1;\r\n  return isSingleValue\r\n    ? new Field(attributeName, type, false, metadataMap)\r\n    : new Field(\r\n      attributeName,\r\n      new FixedSizeList(attribute.size, new Field('value', type)),\r\n      false,\r\n      metadataMap\r\n    );\r\n}\r\n","import type {TypedArray} from '../../types';\r\nimport {DataType, Float32, Float64, Int16, Int32, Int8, Uint16, Uint32, Uint8} from '../schema';\r\n\r\nexport function getArrowTypeFromTypedArray(array: TypedArray): DataType {\r\n  switch (array.constructor) {\r\n    case Int8Array:\r\n      return new Int8();\r\n    case Uint8Array:\r\n      return new Uint8();\r\n    case Int16Array:\r\n      return new Int16();\r\n    case Uint16Array:\r\n      return new Uint16();\r\n    case Int32Array:\r\n      return new Int32();\r\n    case Uint32Array:\r\n      return new Uint32();\r\n    case Float32Array:\r\n      return new Float32();\r\n    case Float64Array:\r\n      return new Float64();\r\n    default:\r\n      throw new Error('array type not supported');\r\n  }\r\n}\r\n","import type {MeshAttributes} from '@loaders.gl/schema';\r\nimport {getMeshBoundingBox} from '@loaders.gl/schema';\r\nimport parseOBJ from './parse-obj';\r\nimport {getOBJSchema} from './get-obj-schema';\r\n\r\nexport default function loadOBJ(text, options) {\r\n  const {meshes} = parseOBJ(text);\r\n\r\n  // @ts-expect-error\r\n  const vertexCount = meshes.reduce((s, mesh) => s + mesh.header.vertexCount, 0);\r\n  // TODO - render objects separately\r\n  const attributes = mergeAttributes(meshes, vertexCount);\r\n\r\n  const header = {\r\n    vertexCount,\r\n    // @ts-ignore Need to export Attributes type\r\n    boundingBox: getMeshBoundingBox(attributes)\r\n  };\r\n\r\n  const schema = getOBJSchema(attributes, {\r\n    mode: 4,\r\n    boundingBox: header.boundingBox\r\n  });\r\n\r\n  return {\r\n    // Data return by this loader implementation\r\n    loaderData: {\r\n      header: {}\r\n    },\r\n\r\n    // Normalised data\r\n    schema,\r\n    header,\r\n    mode: 4, // TRIANGLES\r\n\r\n    attributes\r\n  };\r\n}\r\n\r\n// eslint-disable-next-line max-statements\r\nfunction mergeAttributes(meshes, vertexCount) {\r\n  const positions = new Float32Array(vertexCount * 3);\r\n  let normals;\r\n  let colors;\r\n  let uvs;\r\n  let i = 0;\r\n\r\n  for (const mesh of meshes) {\r\n    const {POSITION, NORMAL, COLOR_0, TEXCOORD_0} = mesh.attributes;\r\n\r\n    positions.set(POSITION.value, i * 3);\r\n\r\n    if (NORMAL) {\r\n      normals = normals || new Float32Array(vertexCount * 3);\r\n      normals.set(NORMAL.value, i * 3);\r\n    }\r\n    if (COLOR_0) {\r\n      colors = colors || new Float32Array(vertexCount * 3);\r\n      colors.set(COLOR_0.value, i * 3);\r\n    }\r\n    if (TEXCOORD_0) {\r\n      uvs = uvs || new Float32Array(vertexCount * 2);\r\n      uvs.set(TEXCOORD_0.value, i * 2);\r\n    }\r\n\r\n    i += POSITION.value.length / 3;\r\n  }\r\n\r\n  const attributes: MeshAttributes = {};\r\n  attributes.POSITION = {value: positions, size: 3};\r\n\r\n  if (normals) {\r\n    attributes.NORMAL = {value: normals, size: 3};\r\n  }\r\n  if (colors) {\r\n    attributes.COLOR_0 = {value: colors, size: 3};\r\n  }\r\n  if (uvs) {\r\n    attributes.TEXCOORD_0 = {value: uvs, size: 2};\r\n  }\r\n\r\n  return attributes;\r\n}\r\n","import type {Loader} from '@loaders.gl/loader-utils';\r\n\r\n// __VERSION__ is injected by babel-plugin-version-inline\r\n// @ts-ignore TS2304: Cannot find name '__VERSION__'.\r\nconst VERSION = typeof __VERSION__ !== 'undefined' ? __VERSION__ : 'latest';\r\n\r\n/**\r\n * Worker loader for the OBJ geometry format\r\n */\r\nexport const OBJLoader = {\r\n  name: 'OBJ',\r\n  id: 'obj',\r\n  module: 'obj',\r\n  version: VERSION,\r\n  worker: true,\r\n  extensions: ['obj'],\r\n  mimeTypes: ['text/plain'],\r\n  testText: testOBJFile,\r\n  options: {\r\n    obj: {}\r\n  }\r\n};\r\n\r\nfunction testOBJFile(text) {\r\n  // TODO - There could be comment line first\r\n  return text[0] === 'v';\r\n}\r\n\r\nexport const _typecheckOBJLoader: Loader = OBJLoader;\r\n","import type {LoaderWithParser} from '@loaders.gl/loader-utils';\r\nimport loadOBJ from './lib/load-obj';\r\nimport {OBJLoader as OBJWorkerLoader} from './obj-loader';\r\n\r\n// OBJLoader\r\n\r\nexport {OBJWorkerLoader};\r\n\r\n/**\r\n * Loader for the OBJ geometry format\r\n */\r\nexport const OBJLoader = {\r\n  ...OBJWorkerLoader,\r\n  parse: async (arrayBuffer, options) => loadOBJ(new TextDecoder().decode(arrayBuffer), options),\r\n  parseTextSync: loadOBJ\r\n};\r\n\r\nexport const _typecheckOBJLoader: LoaderWithParser = OBJLoader;\r\n","import {createLoaderWorker} from '@loaders.gl/loader-utils';\r\nimport {OBJLoader} from '../index';\r\n\r\ncreateLoaderWorker(OBJLoader);\r\n"],"sourceRoot":""}